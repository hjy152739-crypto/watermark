{
  "description": "配置文件：使用逐像素检测和解码损失进行训练",
  "training_parameters": {
    "use_pixel_level_loss": true,
    "use_localized_watermark": true,
    "use_advanced_decoder": true,
    "use_coco_segmentation": true,
    "use_advanced_attacks": true
  },
  "loss_weights": {
    "lambda_det": 1.0,
    "lambda_dec": 1.0,
    "lambda_i": 0.1,
    "lambda_w": 0.0
  },
  "model_architecture": {
    "decoder_architecture": "unet",
    "num_bits": 32,
    "img_size": 256,
    "encoder_channels": 64,
    "decoder_channels": 64
  },
  "attack_simulation": {
    "attack_identity_weight": 2.0,
    "attack_rotation_weight": 1.0,
    "attack_resize_weight": 1.0,
    "attack_crop_weight": 1.0,
    "attack_jpeg_weight": 1.5,
    "attack_blur_weight": 0.5
  },
  "training_settings": {
    "batch_size": 16,
    "epochs": 100,
    "optimizer": "AdamW,lr=1e-4",
    "scheduler": "CosineAnnealingLR,T_max=100"
  },
  "data_settings": {
    "train_dir": "/path/to/coco/train2014",
    "val_dir": "/path/to/coco/val2014",
    "train_annotation_file": "/path/to/instances_train2014.json",
    "val_annotation_file": "/path/to/instances_val2014.json",
    "max_watermarks": 4,
    "multi_watermark_prob": 0.3
  },
  "command_example": {
    "description": "使用新损失计算的训练命令示例",
    "command": [
      "python main.py",
      "--use_pixel_level_loss true",
      "--use_localized_watermark true", 
      "--use_advanced_decoder true",
      "--use_coco_segmentation true",
      "--decoder_architecture unet",
      "--lambda_det 1.0",
      "--lambda_dec 1.0",
      "--lambda_i 0.1",
      "--num_bits 32",
      "--img_size 256",
      "--batch_size 16",
      "--epochs 100",
      "--train_dir /path/to/coco/train2014",
      "--val_dir /path/to/coco/val2014",
      "--train_annotation_file /path/to/instances_train2014.json",
      "--val_annotation_file /path/to/instances_val2014.json",
      "--use_advanced_attacks true",
      "--optimizer 'AdamW,lr=1e-4'"
    ]
  },
  "notes": {
    "loss_calculation": "L_total = λ_det * L_detection + λ_dec * L_decoding",
    "detection_loss": "pred_mask与gt_mask_final的逐像素BCE",
    "decoding_loss": "只在gt_mask_final=1区域的逐像素消息BCE",
    "requirements": [
      "需要COCO分割数据集",
      "需要高级解码器支持",
      "需要局部化水印功能"
    ]
  }
}

